/*!
 * io.js v0.1.0
 * @snandy 2014-03-27 14:21:41
 *
 */
~function(t,e){function n(t,e,n){if(t)if(t.length&&t.length===+t.length){for(var o=0;t.length>o;o++)if(e.call(n,t[o],o,t)===!0)return}else for(var c in t)if(e.call(n,t[c],c,t)===!0)return}function o(t){var e=[];return n(t,function(t,o){s.isArray(t)?n(t,function(t){e.push(o+"="+encodeURIComponent(t))}):e.push(o+"="+encodeURIComponent(t))}),e.join("&")}function c(t){try{return JSON.parse(t)}catch(e){try{return Function("return "+t)()}catch(e){}}}function r(){}var s={},a=Object.prototype.toString;n(["Array","Boolean","Function","Object","String","Number"],function(t){s["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}}),~function(s){function a(t,n){s.isObject(t)&&(n=t,t=n.url);var c,a,f,n=n||{},l=n.async!==!1,d=n.method||"GET",p=n.type||"text",h=n.encode||"UTF-8",m=n.timeout||0,y=n.credential,j=n.data,b=n.scope,v=n.success||r,O=n.failure||r;return d=d.toUpperCase(),s.isObject(j)&&(j=o(j)),"GET"===d&&j&&(t+=(-1===t.indexOf("?")?"?":"&")+j),(c=u())?(a=!1,l&&m>0&&(f=setTimeout(function(){a=!0,c.abort()},m)),c.onreadystatechange=function(){4===c.readyState&&(a?O(c,"request timeout"):(i(c,p,v,O,b),clearTimeout(f)))},c.open(d,t,l),y&&(c.withCredentials=!0),"POST"==d&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset="+h),c.send(j),c):e}function i(t,n,o,r,s){var a,i=t.status;if(i>=200&&300>i){switch(n){case"text":a=t.responseText;break;case"json":a=c(t.responseText);break;case"xml":a=t.responseXML}a!==e&&o.call(s,a,i,t)}else r(t,t.status);t=null}var u=t.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new t.ActiveXObject("Microsoft.XMLHTTP")},f={method:["get","post"],type:["text","json","xml"],async:["sync","async"]};s.ajax=a,n(f,function(t,e){n(t,function(t){s[t]=function(t,e){return function(n,o,c){return s.isObject(n)&&(o=n),s.isFunction(o)&&(o={success:o}),s.isFunction(c)&&(o={data:o},o.success=c),"async"===t&&(e="async"===e?!0:!1),o=o||{},o[t]=e,a(n,o)}}(e,t)})})}(s),~function(n){function c(){var t="",e=[],n=0,o="0123456789ABCDEF";for(n=0;32>n;n++)e[n]=o.substr(Math.floor(16*Math.random()),1);return e[12]="4",e[16]=o.substr(8|3&e[16],1),t="jsonp_"+e.join("")}function s(s,p){function h(n){n?d=!0:v.call(O),C.onload=C.onerror=C.onreadystatechange=null,f&&C.parentNode&&(f.removeChild(C),C=null,t[x]=e)}function m(){setTimeout(function(){d||h()},l)}n.isObject(s)&&(p=s,s=p.url);var p=p||{},s=s+"?",y=p.data,j=p.charset,b=p.success||r,v=p.failure||r,O=p.scope||t,g=p.timestamp,T=p.jsonpName||"callback",x=p.jsonpCallback||c();n.isObject(y)&&(y=o(y));var C=u.createElement("script");a?C.onreadystatechange=function(){var t=this.readyState;d||"loaded"!=t&&"complete"!=t||h(!0)}:(C.onload=function(){h(!0)},C.onerror=function(){h()},i&&m()),s+=T+"="+x,j&&(C.charset=j),y&&(s+="&"+y),g&&(s+="&ts=",s+=(new Date).getTime()),t[x]=function(t){b.call(O,t)},C.src=s,f.insertBefore(C,f.firstChild)}var a=!-[1],i=t.opera,u=t.document,f=u.head||u.getElementsByTagName("head")[0],l=3e3,d=!1;n.jsonp=function(t,e,o){return n.isObject(t)&&(e=t),n.isFunction(e)&&(e={success:e}),n.isFunction(o)&&(e={data:e},e.success=o),s(t,e)}}(s),"function"==typeof define&&define.amd?define("IO",[],function(){return s}):t.IO=s}(this);