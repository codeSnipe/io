/*!
 * io.js v0.1.0
 * @snandy 2014-03-19 19:28:08
 *
 */
~function(t,e){function n(t,e,n){if(t)if(t.length&&t.length===+t.length){for(var c=0;t.length>c;c++)if(e.call(n,t[c],c,t)===!0)return}else for(var o in t)if(e.call(n,t[o],o,t)===!0)return}function c(t){var e=[];return n(t,function(t,c){a.isArray(t)?n(t,function(t){e.push(c+"="+encodeURIComponent(t))}):e.push(c+"="+encodeURIComponent(t))}),e.join("&")}function o(t){try{return JSON.parse(t)}catch(e){try{return Function("return "+t)()}catch(e){}}}function r(){}var a={},s=Object.prototype.toString;n(["Array","Boolean","Function","Object","String","Number"],function(t){a["is"+t]=function(e){return s.call(e)==="[object "+t+"]"}}),~function(a){function s(t,n){a.isObject(t)&&(n=t,t=n.url);var o,s,f,n=n||{},l=n.async!==!1,d=n.method||"GET",p=n.type||"text",h=n.encode||"UTF-8",m=n.timeout||0,y=n.credential,j=n.data,b=n.scope,v=n.success||r,O=n.failure||r;return d=d.toUpperCase(),a.isObject(j)&&(j=c(j)),"GET"===d&&j&&(t+=(-1===t.indexOf("?")?"?":"&")+j),(o=u())?(s=!1,l&&m>0&&(f=setTimeout(function(){s=!0,o.abort()},m)),o.onreadystatechange=function(){4===o.readyState&&(s?O(o,"request timeout"):(i(o,p,v,O,b),clearTimeout(f)))},o.open(d,t,l),y&&(o.withCredentials=!0),"POST"==d&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset="+h),o.send(j),o):e}function i(t,n,c,r,a){var s,i=t.status;if(i>=200&&300>i){switch(n){case"text":s=t.responseText;break;case"json":s=o(t.responseText);break;case"xml":s=t.responseXML}s!==e&&c.call(a,s)}else r(t,t.status);t=null}var u=t.XMLHttpRequest?function(){try{return new XMLHttpRequest}catch(t){}}:function(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},f={method:["get","post"],type:["text","json","xml"],async:["sync","async"]};a.ajax=s,n(f,function(t,e){n(t,function(t){a[t]=function(t,e){return function(n,c,o){return a.isObject(n)&&(c=n),a.isFunction(c)&&(c={success:c}),a.isFunction(o)&&(c={data:c},c.success=o),"async"===t&&(e="async"===e?!0:!1),c=c||{},c[t]=e,s(n,c)}}(e,t)})})}(a),~function(n){function o(){var t="",e=[],n=0,c="0123456789ABCDEF";for(n=0;32>n;n++)e[n]=c.substr(Math.floor(16*Math.random()),1);return e[12]="4",e[16]=c.substr(8|3&e[16],1),t="jsonp_"+e.join("")}function a(a,p){function h(n){n?d=!0:v.call(O),C.onload=C.onerror=C.onreadystatechange=null,f&&C.parentNode&&(f.removeChild(C),C=null,t[x]=e)}function m(){setTimeout(function(){d||h()},l)}n.isObject(a)&&(p=a,a=p.url);var p=p||{},a=a+"?",y=p.data,j=p.charset,b=p.success||r,v=p.failure||r,O=p.scope||t,g=p.timestamp,T=p.jsonpName||"callback",x=p.jsonpCallback||o();n.isObject(y)&&(y=c(y));var C=u.createElement("script");s?C.onreadystatechange=function(){var t=this.readyState;d||"loaded"!=t&&"complete"!=t||h(!0)}:(C.onload=function(){h(!0)},C.onerror=function(){h()},i&&m()),a+=T+"="+x,j&&(C.charset=j),y&&(a+="&"+y),g&&(a+="&ts=",a+=(new Date).getTime()),t[x]=function(t){b.call(O,t)},C.src=a,f.insertBefore(C,f.firstChild)}var s=!-[1],i=t.opera,u=t.document,f=u.head||u.getElementsByTagName("head")[0],l=3e3,d=!1;n.jsonp=function(t,e,c){return n.isObject(t)&&(e=t),n.isFunction(e)&&(e={success:e}),n.isFunction(c)&&(e={data:e},e.success=c),a(t,e)}}(a),"function"==typeof define&&define.amd?define("IO",[],function(){return a}):t.IO=a}(this);